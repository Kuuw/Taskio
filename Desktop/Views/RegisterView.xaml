<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Desktop.Views.RegisterView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodels="clr-namespace:Desktop.ViewModels"
    Title="Register"
    x:DataType="viewmodels:AuthViewModel"
    Shell.NavBarIsVisible="False">
    <ScrollView>
        <VerticalStackLayout
            Padding="30"
            Spacing="20"
            VerticalOptions="Center">
            <Label
                Margin="0,0,0,40"
                FontAttributes="Bold"
                FontSize="48"
                HorizontalOptions="Center"
                Text="Taskio" />

            <Label
                Margin="0,0,0,20"
                FontSize="20"
                HorizontalOptions="Center"
                Text="Create your account" />

            <Border
                Padding="15,10"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray600}}"
                StrokeShape="RoundRectangle 10"
                StrokeThickness="1">
                <Entry
                    Placeholder="First Name"
                    ReturnType="Next"
                    Text="{Binding FirstName}" />
            </Border>

            <Border
                Padding="15,10"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray600}}"
                StrokeShape="RoundRectangle 10"
                StrokeThickness="1">
                <Entry
                    Placeholder="Last Name"
                    ReturnType="Next"
                    Text="{Binding LastName}" />
            </Border>

            <Border
                Padding="15,10"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray600}}"
                StrokeShape="RoundRectangle 10"
                StrokeThickness="1">
                <Entry
                    Keyboard="Email"
                    Placeholder="Email"
                    ReturnType="Next"
                    Text="{Binding Email}" />
            </Border>

            <Border
                Padding="15,10"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray600}}"
                StrokeShape="RoundRectangle 10"
                StrokeThickness="1">
                <Entry
                    IsPassword="True"
                    Placeholder="Password"
                    ReturnType="Done"
                    Text="{Binding Password}" />
            </Border>

            <Label
                HorizontalOptions="Center"
                IsVisible="{Binding ErrorMessage, Converter={StaticResource StringIsNotNullOrEmptyConverter}}"
                Text="{Binding ErrorMessage}"
                TextColor="Red" />

            <Button
                Margin="0,10,0,0"
                Command="{Binding RegisterCommand}"
                FontSize="18"
                HeightRequest="50"
                IsEnabled="{Binding IsLoading, Converter={StaticResource InvertedBoolConverter}}"
                Text="Register" />

            <ActivityIndicator
                HorizontalOptions="Center"
                IsRunning="{Binding IsLoading}"
                IsVisible="{Binding IsLoading}"
                VerticalOptions="Center" />

            <HorizontalStackLayout
                Margin="0,20,0,0"
                HorizontalOptions="Center"
                Spacing="5">
                <Label Text="Already have an account?" VerticalOptions="Center" />
                <Label
                    Text="Login"
                    TextColor="{StaticResource Primary}"
                    TextDecorations="Underline"
                    VerticalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLoginTapped" />
                    </Label.GestureRecognizers>
                </Label>
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
