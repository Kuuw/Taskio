<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Desktop.Views.RegisterView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodels="clr-namespace:Desktop.ViewModels"
    Title="Register"
    x:DataType="viewmodels:AuthViewModel"
    Shell.NavBarIsVisible="False">
    <ScrollView>
        <VerticalStackLayout
            Padding="30"
            Spacing="20"
            VerticalOptions="Center">
            <Label
                Margin="0,0,0,40"
                FontAttributes="Bold"
                FontSize="48"
                HorizontalOptions="Center"
                Text="Taskio" />

            <Label
                Margin="0,0,0,20"
                FontSize="20"
                HorizontalOptions="Center"
                Text="Create your account" />

            <Entry
                Placeholder="First Name"
                ReturnType="Next"
                Text="{Binding FirstName}"
                WidthRequest="300" />

            <Entry
                Placeholder="Last Name"
                ReturnType="Next"
                Text="{Binding LastName}"
                WidthRequest="300" />

            <Entry
                Keyboard="Email"
                Placeholder="Email"
                ReturnType="Next"
                Text="{Binding Email}"
                WidthRequest="300" />

            <Entry
                IsPassword="True"
                Placeholder="Password"
                ReturnType="Done"
                Text="{Binding Password}"
                WidthRequest="300" />

            <Label
                HorizontalOptions="Center"
                IsVisible="{Binding ErrorMessage, Converter={StaticResource StringIsNotNullOrEmptyConverter}}"
                Text="{Binding ErrorMessage}"
                TextColor="Red" />

            <Button
                Margin="0,10,0,0"
                Command="{Binding RegisterCommand}"
                FontSize="18"
                HeightRequest="50"
                IsEnabled="{Binding IsLoading, Converter={StaticResource InvertedBoolConverter}}"
                Text="Register"
                WidthRequest="350" />

            <ActivityIndicator
                HorizontalOptions="Center"
                IsRunning="{Binding IsLoading}"
                IsVisible="{Binding IsLoading}"
                VerticalOptions="Center" />

            <HorizontalStackLayout
                Margin="0,20,0,0"
                HorizontalOptions="Center"
                Spacing="5">
                <Label Text="Already have an account?" VerticalOptions="Center" />
                <Label
                    Text="Login"
                    TextColor="{StaticResource Primary}"
                    TextDecorations="Underline"
                    VerticalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLoginTapped" />
                    </Label.GestureRecognizers>
                </Label>
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
